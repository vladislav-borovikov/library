{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,0BAKA,MAAMC,EAAcC,SAASC,eAAe,eACtCC,EAAYF,SAASC,eAAe,aACpCE,EAAcH,SAASC,eAAe,iBAE5C,IAAIG,GAAU,EAAAP,EAAAQ,cAEdN,EAAYO,iBAAiB,SAE7B,SAA0BC,GACxB,IAAIC,EAAQD,EAAME,OAAOC,GACrBC,EAASJ,EAAME,OAAOG,cAAcF,GAExC,GAAc,kBAAVF,EAA2B,CAC7BN,EAAUW,UAAY,GACtB,IAAIC,EAASV,EAAQW,MAAKC,GAAMA,EAAGC,MAAMF,MAAKG,GAAQA,EAAKR,IAAMC,MAE7DQ,EAAoB,GACxBL,EAAOG,MAAMG,SAAQJ,IACfA,EAAGN,IAAMC,GACXQ,EAAkBE,KAAKL,EAAG,IAG9BF,EAAOG,MAAQE,GAEf,EAAAtB,EAAAyB,aAAYlB,GAEZU,EAAOG,MAAMG,SAAQJ,IACnB,IAAIC,EAAQ,IAAI,EAAAM,EAAAC,SAAWR,GAC3Bd,EAAUuB,mBAAmB,YAAaR,EAAMS,gBAAgB,IAElEvB,EAAYU,UAAY,kNAQxB,EAAAc,EAAAC,e","sources":["src/js/athors/deleteBook.js"],"sourcesContent":["import { getLibrary, postLibrary } from '../api/workWithLocalStorage';\nimport infoAuthor from '../halpers/infoAuthor';\n\nimport { CreateObject } from './authorsRender';\n\nconst infoSection = document.getElementById('infoSection');\nconst infoBooks = document.getElementById('infoBooks');\nconst authorTable = document.getElementById('tableOfAuthor');\n\nlet library = getLibrary();\n\ninfoSection.addEventListener('click', deleteUpdateBook);\n\nfunction deleteUpdateBook(event) {\n  let btnId = event.target.id;\n  let bookId = event.target.parentElement.id;\n\n  if (btnId === 'removeBookBtn') {\n    infoBooks.innerHTML = '';\n    let author = library.find(it => it.books.find(item => item.id == bookId));\n\n    let newBooksColection = [];\n    author.books.forEach(it => {\n      if (it.id != bookId) {\n        newBooksColection.push(it);\n      }\n    });\n    author.books = newBooksColection;\n\n    postLibrary(library);\n\n    author.books.forEach(it => {\n      let books = new infoAuthor(it);\n      infoBooks.insertAdjacentHTML('beforeend', books.getAuthorBook());\n    });\n    authorTable.innerHTML = `<tr >\n            <td class=\"titleTable\">Автори</td>\n            <td class=\"titleTable\">К-ть книг</td>\n            <td>&nbsp;</td>\n            <td>&nbsp;</td>\n            <td>&nbsp;</td>\n        </tr>`;\n\n    CreateObject();\n  }\n}\n"],"names":["$8JP4i","parcelRequire","$78397c7c006258eb$var$infoSection","document","getElementById","$78397c7c006258eb$var$infoBooks","$78397c7c006258eb$var$authorTable","$78397c7c006258eb$var$library","getLibrary","addEventListener","event","btnId","target","id","bookId","parentElement","innerHTML","author","find","it","books","item","newBooksColection","forEach","push","postLibrary","$cLNRI","default","insertAdjacentHTML","getAuthorBook","$2sTjB","CreateObject"],"version":3,"file":"index.d34d4548.js.map"}