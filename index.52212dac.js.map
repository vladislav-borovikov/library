{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SCAMC,EAAOC,SAASC,eAAe,uBAEtB,SAAAC,EAAqBC,G,IAClCC,EADkCD,EAClCC,iBACAC,EAFkCF,EAElCE,YACAC,EAHkCH,EAGlCG,eACAC,EAJkCJ,EAIlCI,cAWIC,EAAQT,EAAKU,SACZC,GAAQ,EAARC,GAAQ,EAARC,OAAQC,E,IAAb,QAAKC,EAAAC,EAAYP,EAAKQ,OAAAC,cAAjBP,GAAAI,EAAAC,EAAQG,QAAAC,MAART,GAAQ,GAAR,IAAIU,EAAJN,EAAQO,MACX,OAAQD,EAAKE,MACX,IAAK,oBACHF,EAAKG,aAAa,QAASnB,GAC3B,MACF,IAAK,gBACHgB,EAAKG,aAAa,QAASlB,GAE3B,MACF,IAAK,mBACHe,EAAKG,aAAa,QAASjB,GAC3B,MACF,IAAK,uBACHc,EAAKG,aAAa,QAAShB,G,WAb5BI,GAAQ,EAARC,EAAQY,C,aAARd,GAAQ,MAARK,EAAQU,QAARV,EAAQU,Q,YAARd,E,MAAAC,C,iCDbDc,EAAgB1B,SAASC,eAAe,iBACxC0B,EAAO3B,SAASC,eAAe,uBAC/B2B,EAAkB5B,SAASC,eAAe,mBAC1C4B,EAAc7B,SAASC,eAAe,iBACtC6B,EAAc9B,SAASC,eAAe,eAE5CyB,EAAcK,iBAAiB,SAK/B,SAAsBC,GACpB,GAAwB,YAApBA,EAAMC,OAAOC,GAAkB,CACjCC,YAAYC,MAAMC,QAAU,QAC5BT,EAAgBU,YAAc,oBACd,IAAZC,EAAeP,EAAMC,OAAOO,cAAcA,cAAcN,GAC5DP,EAAKJ,aAAa,iBAAkBgB,GAEpCrC,EADeuC,EAAQC,MAAK,SAAAC,G,OAAMA,EAAGT,IAAMK,C,SAV/CZ,EAAKI,iBAAiB,UAetB,SAAsBC,GACpBA,EAAMY,iBACN,IAAMC,EAAWlB,EAAKmB,QAAQC,UAE9B,GAAIF,EAAU,CACZ,IAAMG,EAASP,EAAQC,MAAK,SAAAC,G,OAAMA,EAAGT,IAAMW,C,IAQpBI,EAAnBjB,EAAMkB,cANRC,SACEC,EAAiBH,EAAjBG,kBACAC,EAAaJ,EAAbI,cACAC,EAAgBL,EAAhBK,iBACAC,EAAoBN,EAApBM,qBAIJP,EAAO5C,iBAAmBgD,EAAkB/B,MAC5C2B,EAAO3C,YAAcgD,EAAchC,MACnC2B,EAAO1C,eAAiBgD,EAAiBjC,MACzC2B,EAAOzC,cAAgBgD,EAAqBlC,OAE5C,EAAAxB,EAAA2D,aAAYf,GAEZZ,EAAY4B,UAAY,GACxB9B,EAAK+B,QACLvB,YAAYC,MAAMC,QAAU,OAC5BV,EAAKgC,gBAAgB,kBACrBhC,EAAK+B,QACLE,MAAM,sBAEN,IAAIC,EAAe,IAAI,EAAAC,EAAAC,SAAWf,GAClClB,EAAY2B,UAAY,GACxB3B,EAAYkC,mBAAmB,aAAcH,EAAaI,cAC1D,EAAAC,EAAAC,e,KA7CJ,IAAI1B,GAAU,EAAA5C,EAAAuE,a","sources":["src/js/athors/authorUpdate.js","src/js/halpers/fillingFormAuthor.js"],"sourcesContent":["import { getLibrary, postLibrary } from '../api/workWithLocalStorage';\nimport fillingForm from '../halpers/fillingFormAuthor';\nimport infoAuthor from '../halpers/infoAuthor';\nimport { CreateObject } from './authorsRender';\n\nconst tableOfAuthor = document.getElementById('tableOfAuthor');\nconst form = document.getElementById('authorsCreationForm');\nconst nameAuthorModal = document.getElementById('nameAuthorModal');\nconst authorTable = document.getElementById('tableOfAuthor');\nconst aboutAuthor = document.getElementById('aboutAuthor');\n\ntableOfAuthor.addEventListener('click', authorUpdate);\nform.addEventListener('submit', handleSubmit);\n\nlet library = getLibrary();\n\nfunction authorUpdate(event) {\n  if (event.target.id === 'editBtn') {\n    modalAuthor.style.display = 'block';\n    nameAuthorModal.textContent = 'Редагувати автора';\n    let editAuthorId = event.target.parentElement.parentElement.id;\n    form.setAttribute('data-id_author', editAuthorId);\n    const author = library.find(it => it.id == editAuthorId);\n    fillingForm(author);\n  }\n}\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  const authorId = form.dataset.id_author;\n\n  if (authorId) {\n    const author = library.find(it => it.id == authorId);\n    const {\n      elements: {\n        formLastNameInput,\n        formNameInput,\n        formSurnameInput,\n        formDateOfBirthInput,\n      },\n    } = event.currentTarget;\n\n    author.author_last_name = formLastNameInput.value;\n    author.author_name = formNameInput.value;\n    author.author_surname = formSurnameInput.value;\n    author.date_of_birth = formDateOfBirthInput.value;\n\n    postLibrary(library);\n\n    authorTable.innerHTML = '';\n    form.reset();\n    modalAuthor.style.display = 'none';\n    form.removeAttribute('data-id_author');\n    form.reset();\n    alert('Автор був змінений');\n\n    let updateAuthor = new infoAuthor(author);\n    aboutAuthor.innerHTML = '';\n    aboutAuthor.insertAdjacentHTML('afterbegin', updateAuthor.getAuthor());\n    CreateObject();\n  }\n}\n","const form = document.getElementById('authorsCreationForm');\n\nexport default function fillingForm({\n  author_last_name,\n  author_name,\n  author_surname,\n  date_of_birth,\n}) {\n  // let authorInBase = object.author.split(' ');\n  // let authorFullName = {\n  //   lastName: authorInBase[0],\n  //   name: authorInBase[1],\n  //   surname: authorInBase[2] || '',\n  // };\n\n  // ${this.author_last_name} ${this.author_name} ${this.author_surname}\n\n  let elems = form.children;\n  for (let elem of elems) {\n    switch (elem.name) {\n      case 'formLastNameInput':\n        elem.setAttribute('value', author_last_name);\n        break;\n      case 'formNameInput':\n        elem.setAttribute('value', author_name);\n\n        break;\n      case 'formSurnameInput':\n        elem.setAttribute('value', author_surname);\n        break;\n      case 'formDateOfBirthInput':\n        elem.setAttribute('value', date_of_birth);\n        break;\n      default:\n        break;\n    }\n  }\n}\n"],"names":["$3sd2r","parcelRequire","$20206b80c3e76d85$var$form","document","getElementById","$20206b80c3e76d85$export$2e2bcd8739ae039","param","author_last_name","author_name","author_surname","date_of_birth","elems","children","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","elem","value","name","setAttribute","err","return","$1e374ab28e37c8b6$var$tableOfAuthor","$1e374ab28e37c8b6$var$form","$1e374ab28e37c8b6$var$nameAuthorModal","$1e374ab28e37c8b6$var$authorTable","$1e374ab28e37c8b6$var$aboutAuthor","addEventListener","event","target","id","modalAuthor","style","display","textContent","editAuthorId","parentElement","$1e374ab28e37c8b6$var$library","find","it","preventDefault","authorId","dataset","id_author","author","_elements","currentTarget","elements","formLastNameInput","formNameInput","formSurnameInput","formDateOfBirthInput","postLibrary","innerHTML","reset","removeAttribute","alert","updateAuthor","$6TCHH","default","insertAdjacentHTML","getAuthor","$1OouM","CreateObject","getLibrary"],"version":3,"file":"index.52212dac.js.map"}