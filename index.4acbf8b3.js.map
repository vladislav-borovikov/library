{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,IAAIC,EAAOC,SAASC,eAAe,kBAC/BC,EAAcF,SAASC,eAAe,eACtCE,EAAsBH,SAASC,eAAe,uBAC9CG,EAAcJ,SAASC,eAAe,eAEtCI,GAAU,EAAAR,EAAAS,cAEdH,EAAoBI,iBAAiB,SAAS,KAC5CL,EAAYM,MAAMC,QAAU,OAC5BL,EAAYM,UAAY,EAAE,IAG5BX,EAAKQ,iBAAiB,UAEtB,SAAqBI,GACnBA,EAAMC,iBACN,MACEC,UAAUC,OAAEA,IACVH,EAAMI,cAEV,IAAIC,EAAgBF,EAAOG,MAAMC,OAAOC,cACxC,GAAIH,GAAiBX,EAAS,CAC5B,IAAIe,EAAgB,GAEpBf,EAAQgB,SAAQC,GACdA,EAAGC,MAAMF,SAAQG,IACf,GAAIA,EAAKC,KAAKN,cAAcO,SAASV,GAAgB,CACnD,IAAIW,EAAO,CACTC,GAAIJ,EAAKI,GACTH,KAAMD,EAAKC,KACXI,gBAAiBL,EAAKK,gBACtBC,MAAON,EAAKM,MACZC,OAAQ,GAAGT,EAAGU,oBAAoBV,EAAGW,eAAeX,EAAGY,mBAEzDd,EAAce,KAAKR,E,OAKzBzB,EAAYM,MAAMC,QAAU,QACxBW,EAAcgB,QAChBhC,EAAYM,UAAY,iJAOxBU,EAAcC,SAAQC,GACpBlB,EAAYiC,mBACV,YACA,WAAWf,EAAGM,yBACNN,EAAGG,8BACHH,EAAGQ,+BACHR,EAAGO,0CACHP,EAAGS,mCAKf3B,EAAYM,UAAY,2B","sources":["src/js/athors/searchingBooks.js"],"sourcesContent":["import { getLibrary } from '../api/workWithLocalStorage';\n\nlet form = document.getElementById('searchingBooks');\nlet modalSearch = document.getElementById('modalSearch');\nlet closrSearchModalBtn = document.getElementById('closrSearchModalBtn');\nlet tableSearch = document.getElementById('tableSearch');\n\nlet library = getLibrary();\n\nclosrSearchModalBtn.addEventListener('click', () => {\n  modalSearch.style.display = 'none';\n  tableSearch.innerHTML = '';\n});\n\nform.addEventListener('submit', handlSubmit);\n\nfunction handlSubmit(event) {\n  event.preventDefault();\n  const {\n    elements: { search },\n  } = event.currentTarget;\n\n  let searchRequest = search.value.trim().toLowerCase();\n  if (searchRequest || library) {\n    let searchAnswers = [];\n\n    library.forEach(it =>\n      it.books.forEach(item => {\n        if (item.name.toLowerCase().includes(searchRequest)) {\n          let book = {\n            id: item.id,\n            name: item.name,\n            number_of_pages: item.number_of_pages,\n            ganre: item.ganre,\n            author: `${it.author_last_name} ${it.author_name} ${it.author_surname} `,\n          };\n          searchAnswers.push(book);\n        }\n      })\n    );\n\n    modalSearch.style.display = 'block';\n    if (searchAnswers.length) {\n      tableSearch.innerHTML = `<tr>\n            <td>Назва</td>\n            <td>Жанр</td>\n            <td>К-ть сторінок</td>\n            <td>Автор</td>\n            </tr>`;\n\n      searchAnswers.forEach(it =>\n        tableSearch.insertAdjacentHTML(\n          'beforeend',\n          `<tr id=\"${it.id}\">\n            <td>${it.name}</td>\n            <td>${it.ganre}</td>\n            <td>${it.number_of_pages} </td>\n            <td>${it.author}</td>\n          </tr>`\n        )\n      );\n    } else {\n      tableSearch.innerHTML = '<p>Нічого не знайдено </>';\n    }\n  }\n}\n"],"names":["$8JP4i","parcelRequire","$6479c0f3d053262a$var$form","document","getElementById","$6479c0f3d053262a$var$modalSearch","$6479c0f3d053262a$var$closrSearchModalBtn","$6479c0f3d053262a$var$tableSearch","$6479c0f3d053262a$var$library","getLibrary","addEventListener","style","display","innerHTML","event","preventDefault","elements","search","currentTarget","searchRequest","value","trim","toLowerCase","searchAnswers","forEach","it","books","item","name","includes","book","id","number_of_pages","ganre","author","author_last_name","author_name","author_surname","push","length","insertAdjacentHTML"],"version":3,"file":"index.4acbf8b3.js.map"}