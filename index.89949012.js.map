{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SCAA,MAAMC,EAAOC,SAASC,eAAe,uBAEtB,SAAAC,GAAqBC,iBAClCA,EAAgBC,YAChBA,EAAWC,eACXA,EAAcC,cACdA,IAWA,IAAIC,EAAQR,EAAKS,SACjB,IAAK,IAAIC,KAAQF,EACf,OAAQE,EAAKC,MACX,IAAK,oBACHD,EAAKE,aAAa,QAASR,GAC3B,MACF,IAAK,gBACHM,EAAKE,aAAa,QAASP,GAE3B,MACF,IAAK,mBACHK,EAAKE,aAAa,QAASN,GAC3B,MACF,IAAK,uBACHI,EAAKE,aAAa,QAASL,G,+BD1BnC,MAAMM,EAAgBZ,SAASC,eAAe,iBACxCY,EAAOb,SAASC,eAAe,uBAC/Ba,EAAkBd,SAASC,eAAe,mBAC1Cc,EAAcf,SAASC,eAAe,iBACtCe,EAAchB,SAASC,eAAe,eAE5CW,EAAcK,iBAAiB,SAK/B,SAAsBC,GACpB,GAAwB,YAApBA,EAAMC,OAAOC,GAAkB,CACjCC,YAAYC,MAAMC,QAAU,QAC5BT,EAAgBU,YAAc,oBACd,IAAZC,EAAeP,EAAMC,OAAOO,cAAcA,cAAcN,GAC5DP,EAAKF,aAAa,iBAAkBc,GAEpCvB,EADeyB,EAAQC,MAAKC,GAAMA,EAAGT,IAAMK,I,KAV/CZ,EAAKI,iBAAiB,UAetB,SAAsBC,GACpBA,EAAMY,iBACN,MAAMC,EAAWlB,EAAKmB,QAAQC,UAE9B,GAAIF,EAAU,CACZ,MAAMG,EAASP,EAAQC,MAAKC,GAAMA,EAAGT,IAAMW,KAEzCI,UAAUC,kBACRA,EAAiBC,cACjBA,EAAaC,iBACbA,EAAgBC,qBAChBA,IAEArB,EAAMsB,cAEVN,EAAO/B,iBAAmBiC,EAAkBK,MAC5CP,EAAO9B,YAAciC,EAAcI,MACnCP,EAAO7B,eAAiBiC,EAAiBG,MACzCP,EAAO5B,cAAgBiC,EAAqBE,OAE5C,EAAA5C,EAAA6C,aAAYf,GAEZZ,EAAY4B,UAAY,GACxB9B,EAAK+B,QACLvB,YAAYC,MAAMC,QAAU,OAC5BV,EAAKgC,gBAAgB,kBACrBhC,EAAK+B,QACLE,MAAM,sBAEN,IAAIC,EAAe,IAAI,EAAAC,EAAAC,SAAWf,GAClClB,EAAY2B,UAAY,GACxB3B,EAAYkC,mBAAmB,aAAcH,EAAaI,cAC1D,EAAAC,EAAAC,e,KA7CJ,IAAI1B,GAAU,EAAA9B,EAAAyD","sources":["src/js/athors/authorUpdate.js","src/js/halpers/fillingFormAuthor.js"],"sourcesContent":["import { getLibrary, postLibrary } from '../api/workWithLocalStorage';\nimport fillingForm from '../halpers/fillingFormAuthor';\nimport infoAuthor from '../halpers/infoAuthor';\nimport { CreateObject } from './authorsRender';\n\nconst tableOfAuthor = document.getElementById('tableOfAuthor');\nconst form = document.getElementById('authorsCreationForm');\nconst nameAuthorModal = document.getElementById('nameAuthorModal');\nconst authorTable = document.getElementById('tableOfAuthor');\nconst aboutAuthor = document.getElementById('aboutAuthor');\n\ntableOfAuthor.addEventListener('click', authorUpdate);\nform.addEventListener('submit', handleSubmit);\n\nlet library = getLibrary();\n\nfunction authorUpdate(event) {\n  if (event.target.id === 'editBtn') {\n    modalAuthor.style.display = 'block';\n    nameAuthorModal.textContent = 'Редагувати автора';\n    let editAuthorId = event.target.parentElement.parentElement.id;\n    form.setAttribute('data-id_author', editAuthorId);\n    const author = library.find(it => it.id == editAuthorId);\n    fillingForm(author);\n  }\n}\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  const authorId = form.dataset.id_author;\n\n  if (authorId) {\n    const author = library.find(it => it.id == authorId);\n    const {\n      elements: {\n        formLastNameInput,\n        formNameInput,\n        formSurnameInput,\n        formDateOfBirthInput,\n      },\n    } = event.currentTarget;\n\n    author.author_last_name = formLastNameInput.value;\n    author.author_name = formNameInput.value;\n    author.author_surname = formSurnameInput.value;\n    author.date_of_birth = formDateOfBirthInput.value;\n\n    postLibrary(library);\n\n    authorTable.innerHTML = '';\n    form.reset();\n    modalAuthor.style.display = 'none';\n    form.removeAttribute('data-id_author');\n    form.reset();\n    alert('Автор був змінений');\n\n    let updateAuthor = new infoAuthor(author);\n    aboutAuthor.innerHTML = '';\n    aboutAuthor.insertAdjacentHTML('afterbegin', updateAuthor.getAuthor());\n    CreateObject();\n  }\n}\n","const form = document.getElementById('authorsCreationForm');\n\nexport default function fillingForm({\n  author_last_name,\n  author_name,\n  author_surname,\n  date_of_birth,\n}) {\n  // let authorInBase = object.author.split(' ');\n  // let authorFullName = {\n  //   lastName: authorInBase[0],\n  //   name: authorInBase[1],\n  //   surname: authorInBase[2] || '',\n  // };\n\n  // ${this.author_last_name} ${this.author_name} ${this.author_surname}\n\n  let elems = form.children;\n  for (let elem of elems) {\n    switch (elem.name) {\n      case 'formLastNameInput':\n        elem.setAttribute('value', author_last_name);\n        break;\n      case 'formNameInput':\n        elem.setAttribute('value', author_name);\n\n        break;\n      case 'formSurnameInput':\n        elem.setAttribute('value', author_surname);\n        break;\n      case 'formDateOfBirthInput':\n        elem.setAttribute('value', date_of_birth);\n        break;\n      default:\n        break;\n    }\n  }\n}\n"],"names":["$8JP4i","parcelRequire","$bdf5da3b42e5a6b4$var$form","document","getElementById","$bdf5da3b42e5a6b4$export$2e2bcd8739ae039","author_last_name","author_name","author_surname","date_of_birth","elems","children","elem","name","setAttribute","$4841d55c9a877d66$var$tableOfAuthor","$4841d55c9a877d66$var$form","$4841d55c9a877d66$var$nameAuthorModal","$4841d55c9a877d66$var$authorTable","$4841d55c9a877d66$var$aboutAuthor","addEventListener","event","target","id","modalAuthor","style","display","textContent","editAuthorId","parentElement","$4841d55c9a877d66$var$library","find","it","preventDefault","authorId","dataset","id_author","author","elements","formLastNameInput","formNameInput","formSurnameInput","formDateOfBirthInput","currentTarget","value","postLibrary","innerHTML","reset","removeAttribute","alert","updateAuthor","$cLNRI","default","insertAdjacentHTML","getAuthor","$2sTjB","CreateObject","getLibrary"],"version":3,"file":"index.89949012.js.map"}