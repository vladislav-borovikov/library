{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEIC,EAAOC,SAASC,eAAe,kBAC/BC,EAAcF,SAASC,eAAe,eACtCE,EAAsBH,SAASC,eAAe,uBAC9CG,EAAcJ,SAASC,eAAe,eAEtCI,GAAU,EAAAR,EAAAS,cAEdH,EAAoBI,iBAAiB,SAAS,WAC5CL,EAAYM,MAAMC,QAAU,OAC5BL,EAAYM,UAAY,E,IAG1BX,EAAKQ,iBAAiB,UAEtB,SAAqBI,GACnBA,EAAMC,iBACN,IAIIC,EAFAF,EAAMG,cADRC,SAAYC,OAGaC,MAAMC,OAAOC,cACxC,GAAIN,GAAiBR,EAAS,CAC5B,IAAIe,EAAgB,GAEpBf,EAAQgB,SAAQ,SAAAC,G,OACdA,EAAGC,MAAMF,SAAQ,SAAAG,GACf,GAAIA,EAAKC,KAAKN,cAAcO,SAASb,GAAgB,CACnD,IAAIc,EAAO,CACTC,GAAIJ,EAAKI,GACTH,KAAMD,EAAKC,KACXI,gBAAiBL,EAAKK,gBACtBC,MAAON,EAAKM,MACZC,OAAQ,GAA0BC,OAAvBV,EAAGW,iBAAiB,KAAqBD,OAAlBV,EAAGY,YAAY,KAAqBF,OAAlBV,EAAGa,eAAe,MAExEf,EAAcgB,KAAKT,E,QAKzBzB,EAAYM,MAAMC,QAAU,QACxBW,EAAciB,QAChBjC,EAAYM,UAAa,iJAOzBU,EAAcC,SAAQ,SAAAC,G,OACpBlB,EAAYkC,mBACV,YACA,WACQN,OADGV,EAAGM,GAAG,wBAETI,OADAV,EAAGG,KAAK,2BAERO,OADAV,EAAGQ,MAAM,2BAETE,OADAV,EAAGO,gBAAgB,4BACTG,OAAVV,EAAGS,OAAO,0B,KAKtB3B,EAAYM,UAAY,2B","sources":["src/js/athors/searchingBooks.js"],"sourcesContent":["import { getLibrary } from '../api/workWithLocalStorage';\n\nlet form = document.getElementById('searchingBooks');\nlet modalSearch = document.getElementById('modalSearch');\nlet closrSearchModalBtn = document.getElementById('closrSearchModalBtn');\nlet tableSearch = document.getElementById('tableSearch');\n\nlet library = getLibrary();\n\nclosrSearchModalBtn.addEventListener('click', () => {\n  modalSearch.style.display = 'none';\n  tableSearch.innerHTML = '';\n});\n\nform.addEventListener('submit', handlSubmit);\n\nfunction handlSubmit(event) {\n  event.preventDefault();\n  const {\n    elements: { search },\n  } = event.currentTarget;\n\n  let searchRequest = search.value.trim().toLowerCase();\n  if (searchRequest || library) {\n    let searchAnswers = [];\n\n    library.forEach(it =>\n      it.books.forEach(item => {\n        if (item.name.toLowerCase().includes(searchRequest)) {\n          let book = {\n            id: item.id,\n            name: item.name,\n            number_of_pages: item.number_of_pages,\n            ganre: item.ganre,\n            author: `${it.author_last_name} ${it.author_name} ${it.author_surname} `,\n          };\n          searchAnswers.push(book);\n        }\n      })\n    );\n\n    modalSearch.style.display = 'block';\n    if (searchAnswers.length) {\n      tableSearch.innerHTML = `<tr>\n            <td>Назва</td>\n            <td>Жанр</td>\n            <td>К-ть сторінок</td>\n            <td>Автор</td>\n            </tr>`;\n\n      searchAnswers.forEach(it =>\n        tableSearch.insertAdjacentHTML(\n          'beforeend',\n          `<tr id=\"${it.id}\">\n            <td>${it.name}</td>\n            <td>${it.ganre}</td>\n            <td>${it.number_of_pages} </td>\n            <td>${it.author}</td>\n          </tr>`\n        )\n      );\n    } else {\n      tableSearch.innerHTML = '<p>Нічого не знайдено </>';\n    }\n  }\n}\n"],"names":["$3sd2r","parcelRequire","$9425e3b3bfbc2521$var$form","document","getElementById","$9425e3b3bfbc2521$var$modalSearch","$9425e3b3bfbc2521$var$closrSearchModalBtn","$9425e3b3bfbc2521$var$tableSearch","$9425e3b3bfbc2521$var$library","getLibrary","addEventListener","style","display","innerHTML","event","preventDefault","searchRequest","currentTarget","elements","search","value","trim","toLowerCase","searchAnswers","forEach","it","books","item","name","includes","book","id","number_of_pages","ganre","author","concat","author_last_name","author_name","author_surname","push","length","insertAdjacentHTML"],"version":3,"file":"index.90ecf34a.js.map"}