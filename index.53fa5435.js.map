{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,S,0BAKMC,EAAcC,SAASC,eAAe,eACtCC,EAAYF,SAASC,eAAe,aACpCE,EAAcH,SAASC,eAAe,iBAExCG,GAAU,EAAAP,EAAAQ,cAEdN,EAAYO,iBAAiB,SAE7B,SAA0BC,GACxB,IAAIC,EAAQD,EAAME,OAAOC,GACrBC,EAASJ,EAAME,OAAOG,cAAcF,GAExC,GAAc,kBAAVF,EAA2B,CAC7BN,EAAUW,UAAY,GACtB,IAAIC,EAASV,EAAQW,MAAK,SAAAC,G,OAAMA,EAAGC,MAAMF,MAAK,SAAAG,G,OAAQA,EAAKR,IAAMC,C,OAE7DQ,EAAoB,GACxBL,EAAOG,MAAMG,SAAQ,SAAAJ,GACfA,EAAGN,IAAMC,GACXQ,EAAkBE,KAAKL,E,IAG3BF,EAAOG,MAAQE,GAEf,EAAAtB,EAAAyB,aAAYlB,GAEZU,EAAOG,MAAMG,SAAQ,SAAAJ,GACnB,IAAIC,EAAQ,IAAI,EAAAM,EAAAC,SAAWR,GAC3Bd,EAAUuB,mBAAmB,YAAaR,EAAMS,gB,IAElDvB,EAAYU,UAAa,kNAQzB,EAAAc,EAAAC,e","sources":["src/js/athors/deleteBook.js"],"sourcesContent":["import { getLibrary, postLibrary } from '../api/workWithLocalStorage';\nimport infoAuthor from '../halpers/infoAuthor';\n\nimport { CreateObject } from './authorsRender';\n\nconst infoSection = document.getElementById('infoSection');\nconst infoBooks = document.getElementById('infoBooks');\nconst authorTable = document.getElementById('tableOfAuthor');\n\nlet library = getLibrary();\n\ninfoSection.addEventListener('click', deleteUpdateBook);\n\nfunction deleteUpdateBook(event) {\n  let btnId = event.target.id;\n  let bookId = event.target.parentElement.id;\n\n  if (btnId === 'removeBookBtn') {\n    infoBooks.innerHTML = '';\n    let author = library.find(it => it.books.find(item => item.id == bookId));\n\n    let newBooksColection = [];\n    author.books.forEach(it => {\n      if (it.id != bookId) {\n        newBooksColection.push(it);\n      }\n    });\n    author.books = newBooksColection;\n\n    postLibrary(library);\n\n    author.books.forEach(it => {\n      let books = new infoAuthor(it);\n      infoBooks.insertAdjacentHTML('beforeend', books.getAuthorBook());\n    });\n    authorTable.innerHTML = `<tr >\n            <td class=\"titleTable\">Автори</td>\n            <td class=\"titleTable\">К-ть книг</td>\n            <td>&nbsp;</td>\n            <td>&nbsp;</td>\n            <td>&nbsp;</td>\n        </tr>`;\n\n    CreateObject();\n  }\n}\n"],"names":["$3sd2r","parcelRequire","$129766f2213dfe32$var$infoSection","document","getElementById","$129766f2213dfe32$var$infoBooks","$129766f2213dfe32$var$authorTable","$129766f2213dfe32$var$library","getLibrary","addEventListener","event","btnId","target","id","bookId","parentElement","innerHTML","author","find","it","books","item","newBooksColection","forEach","push","postLibrary","$6TCHH","default","insertAdjacentHTML","getAuthorBook","$1OouM","CreateObject"],"version":3,"file":"index.53fa5435.js.map"}